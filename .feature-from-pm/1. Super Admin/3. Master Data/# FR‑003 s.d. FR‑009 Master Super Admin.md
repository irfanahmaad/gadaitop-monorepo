# FR‑003 s.d. FR‑009 Master Super Admin (Revisi Behaviour Table)

## FR‑003 View Master Super Admin List

**Feature Name:** View Master Super Admin List  

### Description  
The system provides a “Master Super Admin” page that lists all Super Admin (pemilik PT) accounts in a table, aligned with the Figma design: content header with title and “Tambah Data” button, and a scrollable table containing identity information and an action menu per user.  

### Actor  
- Super Admin (Owner)  
- Super Admin  

### Priority  
High  

### Preconditions
- User is logged into CMS as Super Admin Owner or Super Admin with permission to access “Master Super Admin”.  
- User navigates to the “Master Super Admin” menu from the left sidebar under “Master Data”.  
- User service API is reachable to fetch the list of Super Admin accounts.  

### Postconditions
- The system displays the latest list of Super Admin accounts in a table matching the Figma layout (columns and actions).  
- Any subsequent navigation (e.g., back from Create/Edit/Delete) can restore the last known table state (page, search, selected rows) if supported by the implementation.  
- View access can be logged into audit trail (user, timestamp, action “VIEW_MASTER_SUPER_ADMIN”).  

### UI & Interaction Requirements

**Page Layout**
- Main layout uses standard CMS structure:  
  - Left sidebar: logo “GADAI TOP”, menu items including “Dashboard”, “Master Data”, and active “Master Super Admin”.  
  - Top bar: user profile on the top-right with name and avatar, consistent with global CMS header.  
- Content header:  
  - Title text: “Master Super Admin”.  
  - Subtitle / breadcrumb (optional): “Page / Master Super Admin”.  
  - Primary button “+ Tambah Data” on the top-right; clicking it triggers Create flow (FR‑006).  

**Table Layout**
- Section title above table: “Daftar Super Admin”.  
- Table columns (from left to right):  
  1. Checkbox (for bulk selection).  
  2. No (running number).  
  3. Foto (avatar, circular).  
  4. Nama Lengkap.  
  5. E-mail.  
  6. No. Telepon.  
  7. Action (three-dot menu).  
- Each row represents one Super Admin account and shows: avatar image, full name, email, phone number, and kebab menu in “Action” column.  
- Row behaviour:  
  - Clicking cells (including “Nama Lengkap”) **does not** navigate to a detail page.  
  - All navigational actions (Detail/Edit/Delete) are initiated exclusively via the Action menu (see FR‑007 & FR‑009).  
- Hover states:  
  - Row hover may have subtle background highlight according to design system.  
  - Action menu button shows hover state before click.  

**Empty, Loading, and Error States**
- Loading: show skeleton rows or centered spinner in the table body while data is being fetched.  
- Empty (no data at all): show informational text such as “Belum ada Super Admin yang terdaftar” inside the table body, with optional “Tambah Data” shortcut.  
- Error (API fail): show inline error banner above table (“Tidak dapat memuat data Super Admin. Coba lagi.”) with “Coba Lagi” button that re-calls API.  

**Responsiveness**
- Desktop (≥1366 px): all columns visible as designed, without overlapping.  
- For smaller widths/tablet:  
  - Text cells may truncate with ellipsis while keeping full value in tooltip.  
  - Horizontal scroll is allowed to avoid broken layout; header row stays aligned with body.  

### Data & Behavior Requirements
- On initial load, call API with parameters: page (default 1), pageSize (default 10 or chosen default), sortBy (e.g., createdAt or name), sortDirection (asc/desc).  
- The “No” column is computed as `(currentPageIndex × pageSize) + rowIndex + 1`.  
- Only users with role “Super Admin” (including Owner if distinct) are returned and displayed.  
- Clicking the row’s checkbox selects that user for bulk actions (FR‑009).  
- Clicking the kebab/three-dot icon opens the per-row actions menu (with Detail, Edit, Delete entries).  

### Security & Business Rules
- Only authorized roles (Super Admin Owner, optionally Super Admin) can access and view this page; unauthorized roles are redirected or shown access-denied message.  
- Sensitive information (e.g., password hashes, tokens) must not be exposed in list payload.  
- Soft-delete constraints apply: Super Admin flagged as deleted/inactive must follow global policy (hidden from default list or shown with status) but must not be hard deleted.  

### Acceptance Criteria
- When an authorized Super Admin opens “Master Super Admin”, the system shows the page header, “+ Tambah Data” button, and a table listing Super Admins with columns and styles matching Figma.  
- Clicking on any non-action cell (including “Nama Lengkap”) does not navigate away or open detail; only the Action menu drives navigation.  
- When there are no records, the table shows a clear empty state message and the layout does not break.  
- When API errors occur, a clear error message and retry option are visible, and the rest of the layout remains intact.  
- Row interactions (open actions menu, select checkbox) respond without full page reload and maintain visual consistency.  

---

## FR‑004 Pagination & Result Summary (Master Super Admin)

**Feature Name:** Master Super Admin Pagination  

### Description  
The system provides pagination controls at the bottom of the Master Super Admin table, enabling users to navigate across multiple pages of Super Admin records while showing a “Showing X to Y of Z results” summary.  

### Actor  
- Super Admin (Owner)  
- Super Admin  

### Priority  
Medium  

### Preconditions
- User is on the Master Super Admin page (FR‑003).  
- Total Super Admin records exceed the configured page size so that more than one page of data exists.  

### Postconditions
- User can move between pages of Super Admin data without losing context or breaking the layout.  
- The page indicator and result summary reflect the current slice of data being displayed.  

### UI & Interaction Requirements

**Pagination Controls**
- Pagination is displayed below the table on the right side:  
  - “Previous” button (text or icon).  
  - Individual page numbers (1, 2, 3, …).  
  - “Next” button.  
- Current page number is visually highlighted (e.g., filled red rectangle with white text).  
- “Previous” is disabled when on the first page; “Next” is disabled when on the last page.  

**Result Summary**
- On the left bottom of the table, show text “Showing X to Y of Z results” where:  
  - X = index of first row in current page.  
  - Y = index of last row in current page.  
  - Z = total number of Super Admin records from backend.  

**Optional Page Size Selector**
- If required, a page-size dropdown is placed near the result summary (e.g., 10, 25, 50 rows per page).  

### Data & Behavior Requirements
- Clicking a page number triggers a new API call with updated page index while preserving sort and search parameters.  
- Clicking “Next” moves to the next page; clicking “Previous” moves to the previous page.  
- When page size changes, the table reloads with the new page size and resets to page 1.  
- When search/filter parameters change (if implemented together), pagination resets to page 1 and summary recalculates.  

### Security & Business Rules
- Pagination must not allow access to data that user is not authorized to view (e.g., cross-tenant data); backend enforces tenant/owner boundaries where applicable.  
- Large page sizes should have reasonable upper limits to avoid performance issues.  

### Acceptance Criteria
- When the total number of Super Admin accounts exceeds one page, pagination controls and “Showing X to Y of Z results” are visible and accurate based on backend data.  
- Clicking any page number, “Next”, or “Previous” updates the table data and active page highlight without full page reload.  
- Invalid navigations (e.g., user clicks “Next” on last page) are ignored or prevented via disabled controls, without throwing UI errors.  

---

## FR‑005 Search Master Super Admin

**Feature Name:** Search Super Admin  

### Description  
The system allows users to search/filter Super Admin records on the Master Super Admin page by name, email, or phone, providing quick lookup capability while preserving the table layout.  

### Actor  
- Super Admin (Owner)  
- Super Admin  

### Priority  
High  

### Preconditions
- User is on the Master Super Admin page with at least one Super Admin record available.  
- Search input component is rendered above or within the table header area according to design system.  

### Postconditions
- The table shows only rows that match the search criteria (by Nama Lengkap, E-mail, or No. Telepon).  
- Search state can be cleared to return to the full list view.  

### UI & Interaction Requirements
- A search input field is available near the top-right area above the table or integrated within table header toolbar.  
- Placeholder text example: “Cari nama, email, atau nomor telepon”.  
- User types a keyword and either presses Enter or clicks a search icon to trigger filtering.  
- A clear/reset icon or button is available to clear the search term and reload the full unfiltered list.  

### Data & Behavior Requirements
- Search query is sent to backend via API params so that filtering is primarily performed server-side.  
- Search applies to at least these fields: Nama Lengkap, E-mail, and No. Telepon.  
- When search is applied:  
  - Pagination resets to first page.  
  - Result summary updates to reflect filtered dataset.  
- When search yields zero results, table shows an empty state message such as “Super Admin tidak ditemukan untuk kata kunci ini”.  

### Security & Business Rules
- Search results must still respect tenant/owner boundaries and role-based access (user cannot search into other owners’ data).  
- Input should be sanitized/escaped to prevent injection attacks or unintended backend behavior.  

### Acceptance Criteria
- Entering a valid search keyword and triggering search updates the table to display only matching Super Admin rows.  
- If no matches are found, the table shows a clear “no results” message while keeping the layout intact.  
- Clearing the search returns the table to the default full list view with correct pagination and result summary.  

---

## FR‑006 Create Super Admin (Tambah Data)

**Feature Name:** Create Super Admin  

### Description  
The system provides a “Tambah Data” flow for creating new Super Admin accounts via a dedicated form page that follows the Figma “Tambah Data” layout for Master Super Admin.  

### Actor  
- Super Admin (Owner)  

### Priority  
High  

### Preconditions
- User is logged in as Super Admin Owner with permission to manage (create) Super Admin accounts.  
- User is on the Master Super Admin list page.  

### Postconditions
- A new Super Admin account is created and stored in the database with role Super Admin and active status.  
- The new account appears in the Master Super Admin list table (FR‑003) according to the current sort and pagination.  

### UI & Interaction Requirements

**Navigation**
- Clicking “+ Tambah Data” from Master Super Admin list navigates user to the “Tambah Data” page.  
- Breadcrumb or page subtitle shows “Tambah Data / Master Super Admin”.  

**Form Layout**
- Page header:  
  - Title: “Tambah Data”.  
  - Under header, label “Data Super Admin”.  
- Left-side area: profile avatar placeholder with upload/change button for photo.  
- Form fields on the right (minimum):  
  - Nama Lengkap *  
  - E-mail *  
  - No. Telepon *  
  - Kata Sandi / Password *  
  - (Optional) Konfirmasi Password  
- At the bottom of form:  
  - Button “Batal” (secondary) on the left.  
  - Button “Simpan” (primary red) on the right.  

**Form Validation**
- All `*` fields are required.  
- Email: must be valid email format and unique in the system.  
- Password: must satisfy minimum length and complexity rules defined globally.  
- No. Telepon: accepts numbers and allowed characters (+, -, space); may have minimum length.  
- Show inline error messages under each invalid field after user attempts to submit.  

**Feedback**
- On successful save, show success modal/toast (e.g., “Sukses! Data Super Admin berhasil disimpan”) with “Tutup” button.  
- On cancel, a confirmation modal (“Apakah Anda Yakin?”) appears if there are unsaved changes, offering “Batal” and “Ya, Keluar” buttons.  

### Data & Behavior Requirements
- On submit, the frontend sends payload including: name, email, phone, password, avatar (if uploaded).  
- Backend returns created user ID and metadata, which may be used to update the list or redirect to detail page.  
- After success, system may:  
  - Redirect back to Master Super Admin list with the new record visible, or  
  - Redirect to the new Super Admin detail page (FR‑007).  
- If email already exists or any backend validation fails, API returns appropriate error; UI shows friendly message near field/email area.  

### Security & Business Rules
- Only Super Admin Owner can create new Super Admin accounts; ordinary Super Admins cannot access “Tambah Data” page if this restriction is chosen.  
- Password values must never be logged to console or stored in client-side persistent storage.  
- Created account must follow constraints: no hard delete; deactivation instead of delete when needed (see FR‑009).  

### Acceptance Criteria
- Clicking “+ Tambah Data” opens the “Tambah Data” form page that matches the Figma layout.  
- Submitting the form with valid data creates a new Super Admin account, shows a success message, and updates the list.  
- Submitting invalid data (e.g., malformed email, missing required fields) keeps the user on the same page, highlights invalid fields, and does not create an account.  
- Canceling with unsaved changes triggers a confirmation modal; choosing to leave discards changes and navigates back to list.  

---

## FR‑007 View Super Admin Detail

**Feature Name:** Super Admin Detail View  

### Description  
The system provides a detail view page for a single Super Admin, showing core profile information in read-only mode with actions to edit the data, using a separate “Detail” screen rather than row-click navigation.  

### Actor  
- Super Admin (Owner)  
- Super Admin  

### Priority  
Medium  

### Preconditions
- User is on the Master Super Admin list page and opens the Action menu of a row, then selects “Detail”; or  
- User lands on detail URL directly with a valid Super Admin ID.  

### Postconditions
- Selected Super Admin’s profile is displayed with accurate, up-to-date data.  
- User can proceed to edit page or navigate back to list.  

### UI & Interaction Requirements
- Page header shows the Super Admin’s full name as title.  
- Under header, active section “Detail”.  
- Main card labeled “Data Super Admin” showing:  
  - Avatar photo (larger than in list).  
  - Name.  
  - Email.  
  - Phone number.  
  - Optional meta such as role label and creation date.  
- Buttons on top-right of card:  
  - “Edit” (primary) to go to Edit form (FR‑008).  
  - “Kembali” (secondary) to return to Master Super Admin list.  

### Data & Behavior Requirements
- On load, the system fetches Super Admin data by ID from backend.  
- If the record is not found (e.g., deleted or invalid ID), the page shows a “Data
